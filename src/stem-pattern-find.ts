// eslint-disable-next-line @typescript-eslint/no-unused-vars
const getWordPatternString = (() => {
	const reverse = (chars: string) => {
		for (let i = 0; i < chars.length; i += 2) {
			chars = chars[i] + chars;
		}
		return chars.substring(0, chars.length / 2);
	};

	const sortReverse = (a: string, b: string) => a > b ? -1 : 1;

	const makeSomeCharDuplicatesOptional = (word: string) => word.replace(/(a|e|i|o|u)\1+/gi, "$1$1?");

	return (() => {
		const suffixes = [
			"e",
			"es",
			"ely",
			"a",
			"ata",
			"able",
			"ables",
			"ably",
			"ability",
			"abilities",
			"ac",
			"acity",
			"ocity",
			"ade",
			"age",
			"aholic",
			"oholic",
			"al",
			"als",
			"ally",
			"ality",
			"alities",
			"algia",
			"an",
			"ian",
			"ance",
			"ancy",
			"ant",
			"ar",
			"ard",
			"arian",
			"arium",
			"orium",
			"ary",
			"ate",
			"ation",
			"ative",
			"atic",
			"atical",
			"atically",
			"cide",
			"cracy",
			"crat",
			"cule",
			"cy",
			"cycle",
			"dom",
			"dox",
			"ed",
			"ee",
			"eer",
			"emia",
			"en",
			"ence",
			"ency",
			"ent",
			"ents",
			"entual",
			"entuality",
			"entualities",
			"entive",
			"er",
			"ers",
			"ern",
			"escence",
			"ese",
			"esque", 
			"ess",
			"esses",
			"essing",
			"essation",
			"essor",
			"essors",
			"eased",
			"est",
			"etic",
			"ette",
			"fication",
			"ful",
			"fy",
			"gam",
			"gamy",
			"gon",
			"gonic",
			"hood",
			"ial",
			"ietal",
			"iety",
			"ietist",
			"ietists",
			"ietism",
			"ian",
			"iasis",
			"iatric",
			"ible",
			"ic",
			"ics",
			"ian",
			"ical",
			"ically",
			"ile",
			"ily",
			"ine",
			"ines",
			"ing",
			"ion",
			"ious",
			"ish",
			"ism",
			"ist",
			"ite",
			"ites",
			"iteness",
			"itis",
			"ity",
			"ities",
			"ility",
			"ilities",
			"ibility",
			"ibilities",
			"ive",
			"ization",
			"ize",
			"izes",
			"izing",
			"izings",
			"izable",
			"izables",
			"ized",
			"ler",
			"lers",
			"less",
			"let",
			"list",
			"ling",
			"lling",
			"le",
			"led",
			"lled",
			"l",
			"ls",
			"le",
			"les",
			"el",
			"loger",
			"logist",
			"logy",
			"log",
			"ly",
			"ment",
			"ness",
			"oid",
			"ology",
			"oma",
			"onym",
			"opia",
			"opsy",
			"or",
			"ors",
			"ory",
			"ories",
			"osis",
			"ostomy",
			"otomy",
			"ous",
			"s",
			"path",
			"pathy",
			"phile",
			"phobia",
			"phone",
			"phyte",
			"plegia",
			"plegic",
			"pnea",
			"scopy",
			"scope",
			"scribe",
			"script",
			"sect",
			"ship",
			"ships",
			"shipping",
			"shipped",
			"shipper",
			"sion",
			"some",
			"sophy",
			"sophic",
			"th",
			"tion",
			"tions",
			"tive",
			"tives",
			"tor",
			"tors",
			"nd",
			"nds",
			"ted",
			"tome",
			"tomy",
			"trophy",
			"tude",
			"ty",
			"ular",
			"uous",
			"ure",
			"ward",
			"ware",
			"wise",
			"y",
			"ies",
		].sort(sortReverse);
		const replacePatternReverse = new RegExp(
			`\\b(?:${suffixes.map(suffix => reverse(suffix)).sort(sortReverse).join("|")})`, "gi");
		const highlightPatternString = `(?:${suffixes.join("|")})?`;

		return (word: string) => { // Currently, returned pattern must have exactly one pair of brackets.
			const matches = reverse(word).match(replacePatternReverse);
			if (!matches)
				return makeSomeCharDuplicatesOptional(word) + highlightPatternString;
			const idx = word.length - matches[0].length;
			if (idx < 3)
				return makeSomeCharDuplicatesOptional(word) + highlightPatternString;
			return makeSomeCharDuplicatesOptional(word.substring(0, idx)) + highlightPatternString;
		};
	})();
})();
